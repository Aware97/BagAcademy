<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BagAcademy - Free Crypto Education</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&family=Newsreader:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
<style>
:root{--bg:#08080a;--bg2:#0e0e12;--bg3:#151519;--surface:#1a1a1f;--border:#252530;--border2:#35354a;--text:#f0f0f5;--text2:#9090a0;--text3:#606070;--accent:#00ff88;--red:#ff4757;--green:#00d68f;--orange:#ffa502;--blue:#3498db;--purple:#9b59b6}
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{font-family:'Space Grotesk',sans-serif;background:var(--bg);color:var(--text);line-height:1.6;-webkit-tap-highlight-color:transparent}
button,input{font-family:inherit}
::selection{background:var(--accent);color:var(--bg)}
.nav{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(8,8,10,0.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}
.nav-inner{max-width:1300px;margin:0 auto;padding:0 1.5rem;height:60px;display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:0.6rem;cursor:pointer}
.logo-text{font-weight:700;font-size:1.15rem;letter-spacing:-0.02em}
.logo-text span{color:var(--accent)}
.nav-links{display:flex;gap:0.4rem;background:var(--bg2);border:1px solid var(--border);border-radius:50px;padding:3px}
.nav-link{color:var(--text2);font-size:0.8rem;font-weight:500;padding:0.45rem 0.9rem;border-radius:50px;cursor:pointer;transition:all 0.2s;border:none;background:none}
.nav-link:hover{color:var(--text)}
.nav-link.active{background:var(--surface);color:var(--text)}
.nav-cta{background:var(--accent);color:var(--bg);padding:0.55rem 1.1rem;border-radius:50px;font-weight:600;font-size:0.8rem;border:none;cursor:pointer}
.page{display:none;min-height:100vh;padding-top:60px}
.page.active{display:block}
.container{max-width:1200px;margin:0 auto;padding:0 1.5rem}
.hero{min-height:calc(100vh - 60px);display:flex;align-items:center;position:relative}
.hero-bg{position:absolute;inset:0;background:radial-gradient(ellipse 80% 60% at 50% -10%,rgba(0,255,136,0.06),transparent)}
.hero-content{position:relative;z-index:1;max-width:680px;padding:2.5rem 0}
.hero-badge{display:inline-flex;align-items:center;gap:0.5rem;background:rgba(0,214,143,0.1);border:1px solid var(--green);color:var(--green);padding:0.4rem 0.9rem;border-radius:50px;font-family:'IBM Plex Mono',monospace;font-size:0.7rem;margin-bottom:1.5rem}
.hero-badge::before{content:'';width:6px;height:6px;background:var(--green);border-radius:50%;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.4}}
.hero h1{font-family:'Newsreader',serif;font-size:clamp(2.2rem,6vw,4.5rem);font-weight:400;line-height:1.1;margin-bottom:1.25rem}
.hero h1 em{font-style:italic;color:var(--accent)}
.hero-sub{font-size:1rem;color:var(--text2);margin-bottom:2rem;max-width:480px}
.hero-buttons{display:flex;gap:0.85rem;flex-wrap:wrap;margin-bottom:2.5rem}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:0.4rem;padding:0.8rem 1.5rem;font-size:0.9rem;font-weight:600;border-radius:10px;border:none;cursor:pointer;font-family:inherit;transition:all 0.2s}
.btn-primary{background:var(--accent);color:var(--bg)}
.btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(0,255,136,0.25)}
.btn-secondary{background:var(--surface);color:var(--text);border:1px solid var(--border)}
.hero-stats{display:flex;gap:2rem;flex-wrap:wrap}
.hero-stat-value{font-family:'IBM Plex Mono',monospace;font-size:1.5rem;font-weight:600;color:var(--accent)}
.hero-stat-label{font-size:0.75rem;color:var(--text3)}
.section{padding:4rem 0}
.section-header{margin-bottom:2rem}
.section-label{font-family:'IBM Plex Mono',monospace;font-size:0.7rem;color:var(--accent);text-transform:uppercase;letter-spacing:0.1em;margin-bottom:0.5rem}
.section-title{font-family:'Newsreader',serif;font-size:clamp(1.5rem,3.5vw,2.25rem);font-weight:400}
.section-sub{color:var(--text2);font-size:0.9rem;margin-top:0.4rem;max-width:450px}
.features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:0.85rem}
.feature-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1.25rem;transition:all 0.3s}
.feature-icon{width:40px;height:40px;background:var(--bg2);border:1px solid var(--border);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;margin-bottom:0.85rem}
.feature-card h3{font-size:0.9rem;font-weight:600;margin-bottom:0.3rem}
.feature-card p{font-size:0.8rem;color:var(--text2);line-height:1.5}
.module-list{display:flex;flex-direction:column;gap:0.5rem}
.module-card{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:0.9rem 1.1rem;display:flex;align-items:center;gap:1rem;cursor:pointer;transition:all 0.2s}
.module-card:hover{border-color:var(--accent);background:var(--bg3)}
.module-num{font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--accent);min-width:24px}
.module-info{flex:1}
.module-info h3{font-size:0.9rem;font-weight:600;margin-bottom:0.1rem}
.module-info p{font-size:0.7rem;color:var(--text2)}
.module-meta{font-family:'IBM Plex Mono',monospace;font-size:0.65rem;color:var(--text3)}
.about-hero{padding:5rem 0 2.5rem;text-align:center}
.about-hero h1{font-family:'Newsreader',serif;font-size:clamp(1.75rem,4vw,3rem);font-weight:400;max-width:700px;margin:0 auto 1.25rem}
.about-hero h1 em{font-style:italic;color:var(--accent)}
.about-grid{display:grid;grid-template-columns:1.3fr 1fr;gap:2.5rem;padding:1.5rem 0 4rem}
.about-story{font-size:0.9rem;color:var(--text2);line-height:1.8}
.about-story p{margin-bottom:1rem}
.about-story strong{color:var(--text)}
.about-story .hl{background:linear-gradient(120deg,var(--accent),var(--accent));background-size:100% 0.15em;background-position:0 92%;background-repeat:no-repeat;color:var(--text)}
.about-stats{display:grid;grid-template-columns:1fr 1fr;gap:0.6rem}
.about-stat{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:1rem}
.about-stat-val{font-family:'IBM Plex Mono',monospace;font-size:1.5rem;font-weight:600}
.about-stat-val.red{color:var(--red)}
.about-stat-val.green{color:var(--green)}
.about-stat-label{font-size:0.7rem;color:var(--text3);margin-top:0.15rem}
.sim-page{padding:1rem 0 2.5rem}
.sim-header{text-align:center;margin-bottom:1rem}
.sim-header h1{font-family:'Newsreader',serif;font-size:1.5rem;margin-bottom:0.3rem}
.sim-header p{color:var(--text2);font-size:0.8rem}
.sim-layout{display:grid;grid-template-columns:1fr 280px;gap:1rem}
.trading-area{background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden}
.wallet-panel{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:1rem;height:fit-content;position:sticky;top:72px}
.wallet-title{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text3);text-transform:uppercase;letter-spacing:0.05em;margin-bottom:0.6rem;display:flex;justify-content:space-between;align-items:center}
.wallet-reset{background:none;border:none;color:var(--red);font-size:0.6rem;cursor:pointer;padding:0}
.wallet-balance{text-align:center;padding:1rem 0;border-bottom:1px solid var(--border);margin-bottom:0.6rem}
.balance-label{font-size:0.65rem;color:var(--text3)}
.balance-value{font-family:'IBM Plex Mono',monospace;font-size:1.75rem;font-weight:600}
.balance-pnl{font-family:'IBM Plex Mono',monospace;font-size:0.75rem;margin-top:0.15rem}
.balance-pnl.pos{color:var(--green)}
.balance-pnl.neg{color:var(--red)}
.holdings-title{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text3);text-transform:uppercase;margin-bottom:0.4rem}
.holding{display:flex;justify-content:space-between;align-items:center;padding:0.5rem;background:var(--bg2);border-radius:6px;margin-bottom:0.35rem;font-size:0.75rem}
.holding-left{display:flex;align-items:center;gap:0.4rem}
.holding-icon{width:22px;height:22px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.7rem}
.holding-info{line-height:1.2}
.holding-name{font-weight:500;font-size:0.7rem}
.holding-amt{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text3)}
.holding-right{text-align:right}
.holding-val{font-family:'IBM Plex Mono',monospace;font-size:0.7rem}
.holding-chg{font-family:'IBM Plex Mono',monospace;font-size:0.6rem}
.holding-chg.pos{color:var(--green)}
.holding-chg.neg{color:var(--red)}
.trading-tabs{display:flex;border-bottom:1px solid var(--border)}
.trading-tab{flex:1;padding:0.7rem;text-align:center;font-size:0.75rem;font-weight:500;color:var(--text2);background:none;border:none;cursor:pointer}
.trading-tab.active{color:var(--text);background:var(--bg3);border-bottom:2px solid var(--accent)}
.trading-content{padding:1rem}
.token-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:0.7rem}
.token-card{background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:0.85rem;cursor:pointer;transition:all 0.2s}
.token-card:hover{border-color:var(--accent)}
.token-card.honey{border-color:var(--purple);background:rgba(155,89,182,0.08)}
.token-card.hard{border-color:var(--red);background:rgba(255,71,87,0.08)}
.token-card.slow{border-color:var(--orange);background:rgba(255,165,2,0.08)}
.token-top{display:flex;align-items:center;gap:0.5rem;margin-bottom:0.6rem}
.token-icon{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.9rem}
.token-name{font-weight:600;font-size:0.8rem}
.token-ticker{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text3)}
.token-price{font-family:'IBM Plex Mono',monospace;font-size:0.9rem;font-weight:600}
.token-chg{font-family:'IBM Plex Mono',monospace;font-size:0.7rem}
.token-chg.pos{color:var(--green)}
.token-chg.neg{color:var(--red)}
.token-tag{display:inline-block;font-family:'IBM Plex Mono',monospace;font-size:0.5rem;padding:0.15rem 0.35rem;border-radius:3px;margin-top:0.5rem}
.token-tag.honey{background:rgba(155,89,182,0.2);color:var(--purple)}
.token-tag.hard{background:rgba(255,71,87,0.2);color:var(--red)}
.token-tag.slow{background:rgba(255,165,2,0.2);color:var(--orange)}
.chart-container{display:none;padding:1rem;border-bottom:1px solid var(--border)}
.chart-container.show{display:block}
.chart-portfolio{display:grid;grid-template-columns:repeat(4,1fr);gap:0.5rem;margin-bottom:0.75rem;padding:0.6rem;background:var(--bg);border-radius:8px}
.chart-port-item{text-align:center}
.chart-port-label{font-size:0.55rem;color:var(--text3);text-transform:uppercase;font-family:'IBM Plex Mono',monospace}
.chart-port-val{font-family:'IBM Plex Mono',monospace;font-size:0.85rem;font-weight:600}
.chart-port-val.pos{color:var(--green)}
.chart-port-val.neg{color:var(--red)}
.chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem}
.chart-token{display:flex;align-items:center;gap:0.35rem}
.chart-icon{width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.75rem}
.chart-name{font-weight:600;font-size:0.75rem}
.chart-right{text-align:right}
.chart-price{font-family:'IBM Plex Mono',monospace;font-size:1rem;font-weight:600}
.chart-price.up{color:var(--green)}
.chart-price.down{color:var(--red)}
.chart-pct{font-family:'IBM Plex Mono',monospace;font-size:0.65rem}
.chart-pct.up{color:var(--green)}
.chart-pct.down{color:var(--red)}
.chart-indicators{display:flex;gap:0.5rem;margin-bottom:0.5rem}
.chart-ind{font-family:'IBM Plex Mono',monospace;font-size:0.55rem;padding:0.2rem 0.4rem;background:var(--bg);border-radius:4px;color:var(--text2)}
.chart-ind span{margin-left:0.25rem}
.chart-ind .sma{color:var(--orange)}
.chart-ind .vol{color:var(--blue)}
.chart-area{position:relative;height:200px;background:var(--bg);border-radius:6px;overflow:hidden}
.chart-area canvas{width:100%;height:100%}
.chart-status{text-align:center;font-family:'IBM Plex Mono',monospace;font-size:0.65rem;color:var(--text3);margin-top:0.4rem;padding:0.3rem;background:var(--bg);border-radius:4px}
.chart-status.danger{color:var(--red);background:rgba(255,71,87,0.1)}
.chart-status.warn{color:var(--orange)}
.chart-status.good{color:var(--green)}
.chart-actions{display:flex;gap:0.4rem;margin-top:0.6rem}
.chart-btn{flex:1;padding:0.5rem;font-size:0.75rem;font-weight:600;border-radius:6px;border:none;cursor:pointer;font-family:inherit}
.chart-btn.buy{background:var(--green);color:#000}
.chart-btn.sell{background:var(--red);color:#fff}
.chart-btn:disabled{opacity:0.4;cursor:not-allowed}
.modal-bg{position:fixed;inset:0;background:rgba(0,0,0,0.9);display:none;align-items:center;justify-content:center;z-index:2000;padding:1rem}
.modal-bg.show{display:flex}
.modal{background:var(--surface);border:1px solid var(--border);border-radius:14px;width:100%;max-width:360px;max-height:80vh;overflow-y:auto}
.modal-head{display:flex;justify-content:space-between;align-items:center;padding:0.85rem 1rem;border-bottom:1px solid var(--border)}
.modal-title{font-weight:600;font-size:0.9rem}
.modal-close{width:26px;height:26px;border-radius:50%;background:var(--bg2);border:1px solid var(--border);color:var(--text2);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1rem}
.modal-body{padding:1rem}
.trade-info{display:flex;align-items:center;gap:0.7rem;padding:0.7rem;background:var(--bg2);border-radius:8px;margin-bottom:1rem}
.trade-info-icon{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.1rem}
.trade-info h4{font-size:0.85rem;font-weight:600}
.trade-info-price{font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--text2)}
.trade-input-wrap{margin-bottom:0.7rem}
.trade-input-label{display:flex;justify-content:space-between;font-size:0.65rem;color:var(--text2);margin-bottom:0.3rem}
.trade-input-box{display:flex;background:var(--bg2);border:1px solid var(--border);border-radius:6px;overflow:hidden}
.trade-input-box:focus-within{border-color:var(--accent)}
.trade-input{flex:1;background:none;border:none;padding:0.6rem;font-family:'IBM Plex Mono',monospace;font-size:0.9rem;color:var(--text);outline:none;min-width:0}
.trade-input-suffix{display:flex;align-items:center;padding:0 0.7rem;background:var(--bg);border-left:1px solid var(--border);font-size:0.7rem;color:var(--text2)}
.trade-presets{display:flex;gap:0.3rem;margin-bottom:0.85rem}
.trade-preset{flex:1;padding:0.4rem;background:var(--bg2);border:1px solid var(--border);border-radius:5px;font-size:0.65rem;color:var(--text2);cursor:pointer}
.trade-preset:hover{border-color:var(--accent)}
.trade-warn{display:flex;gap:0.5rem;padding:0.7rem;background:rgba(255,71,87,0.1);border:1px solid var(--red);border-radius:6px;margin-bottom:0.85rem;font-size:0.7rem;color:var(--red)}
.trade-warn.honey{background:rgba(155,89,182,0.1);border-color:var(--purple);color:var(--purple)}
.trade-btn{width:100%;padding:0.7rem;font-size:0.85rem;font-weight:600;border-radius:6px;border:none;cursor:pointer;font-family:inherit}
.trade-btn.buy{background:var(--green);color:#000}
.trade-btn.sell{background:var(--red);color:#fff}
.rug-screen{position:fixed;inset:0;background:#08080a;display:none;align-items:center;justify-content:center;flex-direction:column;z-index:3000;text-align:center;padding:1.5rem}
.rug-screen.show{display:flex}
.rug-icon{font-size:3rem;margin-bottom:0.75rem}
.rug-price{font-family:'IBM Plex Mono',monospace;font-size:clamp(2rem,7vw,3.5rem);font-weight:700;color:#ff4757}
.rug-label{font-size:1.1rem;margin:0.5rem 0;font-family:'Newsreader',serif}
.rug-type{color:#ffa502;font-family:'IBM Plex Mono',monospace;font-size:0.75rem;margin-bottom:1rem}
.rug-explain{color:#9090a0;max-width:400px;line-height:1.7;margin-bottom:1.25rem;font-size:0.85rem}
.rug-stats{display:flex;gap:1.25rem;margin-bottom:1.25rem}
.rug-stat-val{font-family:'IBM Plex Mono',monospace;font-size:1.1rem;font-weight:600}
.rug-stat-val.red{color:#ff4757}
.rug-stat-label{font-size:0.65rem;color:#606070}
.honey-screen{position:fixed;inset:0;background:#08080a;display:none;align-items:center;justify-content:center;flex-direction:column;z-index:3000;text-align:center;padding:1.5rem}
.honey-screen.show{display:flex}
.honey-icon{font-size:3rem;margin-bottom:0.75rem}
.honey-title{font-family:'IBM Plex Mono',monospace;font-size:1.5rem;color:var(--purple);margin-bottom:0.5rem}
.honey-sub{font-size:1rem;margin-bottom:1rem;font-family:'Newsreader',serif}
.honey-explain{color:#9090a0;max-width:420px;line-height:1.7;margin-bottom:1.25rem;font-size:0.85rem}
.honey-gains{font-family:'IBM Plex Mono',monospace;font-size:2rem;color:var(--green);margin-bottom:0.5rem}
.honey-but{font-size:0.9rem;color:var(--red);margin-bottom:1.25rem}
.lesson-layout{display:grid;grid-template-columns:220px 1fr;min-height:calc(100vh - 60px)}
.lesson-sidebar{background:var(--bg2);border-right:1px solid var(--border);padding:1rem 0;overflow-y:auto}
.lesson-nav-title{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text3);text-transform:uppercase;letter-spacing:0.05em;padding:0 0.85rem;margin-bottom:0.5rem}
.lesson-nav{list-style:none}
.lesson-nav-item{border-bottom:1px solid var(--border)}
.lesson-nav-link{display:flex;align-items:center;gap:0.5rem;padding:0.6rem 0.85rem;cursor:pointer;color:var(--text2);transition:all 0.2s;font-size:0.75rem}
.lesson-nav-link:hover{background:var(--bg3);color:var(--text)}
.lesson-nav-link.active{background:var(--surface);color:var(--text);border-left:2px solid var(--accent)}
.ln-num{width:18px;height:18px;border:1px solid var(--border2);border-radius:3px;display:flex;align-items:center;justify-content:center;font-family:'IBM Plex Mono',monospace;font-size:0.55rem;flex-shrink:0}
.ln-text{font-size:0.7rem;line-height:1.3}
.lesson-main{padding:1.5rem 2rem;max-width:700px;overflow-y:auto}
.lesson-label{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--accent);text-transform:uppercase;letter-spacing:0.05em;margin-bottom:0.3rem}
.lesson-title{font-family:'Newsreader',serif;font-size:1.35rem;margin-bottom:1.25rem}
.lesson-body{color:var(--text2);line-height:1.75;font-size:0.88rem}
.lesson-body p{margin-bottom:0.9rem}
.lesson-body strong{color:var(--text)}
.lesson-body h3{color:var(--text);font-size:1rem;margin:1.25rem 0 0.6rem;font-weight:600}
.lesson-body ul,.lesson-body ol{margin:0.75rem 0 0.75rem 1.25rem}
.lesson-body li{margin-bottom:0.4rem}
.info-box{background:var(--bg2);border:1px solid var(--border);border-radius:6px;padding:0.85rem;margin:1rem 0}
.info-box.tip{border-left:3px solid var(--accent)}
.info-box.warn{border-left:3px solid var(--red);background:rgba(255,71,87,0.04)}
.info-box.example{border-left:3px solid var(--blue);background:rgba(52,152,219,0.04)}
.info-box-label{font-family:'IBM Plex Mono',monospace;font-size:0.6rem;text-transform:uppercase;letter-spacing:0.05em;margin-bottom:0.35rem}
.info-box.tip .info-box-label{color:var(--accent)}
.info-box.warn .info-box-label{color:var(--red)}
.info-box.example .info-box-label{color:var(--blue)}
.info-box p{font-size:0.8rem;margin:0}
.quiz-wrap{background:var(--surface);border:1px solid var(--border);border-radius:8px;margin:1.25rem 0;overflow:hidden}
.quiz-head{background:var(--bg2);padding:0.6rem 0.85rem;border-bottom:1px solid var(--border);font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text3);text-transform:uppercase}
.quiz-body{padding:0.85rem}
.quiz-q{font-size:0.88rem;font-weight:500;color:var(--text);margin-bottom:0.85rem}
.quiz-opts{display:flex;flex-direction:column;gap:0.4rem}
.quiz-opt{display:flex;align-items:center;gap:0.6rem;padding:0.6rem;background:var(--bg2);border:1px solid var(--border);border-radius:5px;cursor:pointer;transition:all 0.2s}
.quiz-opt:hover{border-color:var(--border2)}
.quiz-opt.yes{border-color:var(--green);background:rgba(0,214,143,0.08)}
.quiz-opt.no{border-color:var(--red);background:rgba(255,71,87,0.08)}
.quiz-let{width:20px;height:20px;border:1px solid var(--border2);border-radius:3px;display:flex;align-items:center;justify-content:center;font-family:'IBM Plex Mono',monospace;font-size:0.6rem;color:var(--text2);flex-shrink:0}
.quiz-opt.yes .quiz-let{background:var(--green);border-color:var(--green);color:var(--bg)}
.quiz-opt.no .quiz-let{background:var(--red);border-color:var(--red);color:#fff}
.quiz-txt{font-size:0.75rem;color:var(--text2)}
.quiz-fb{margin-top:0.7rem;padding:0.6rem;border-radius:5px;font-size:0.75rem;display:none}
.quiz-fb.show{display:block}
.quiz-fb.yes{background:rgba(0,214,143,0.12);color:var(--green)}
.quiz-fb.no{background:rgba(255,71,87,0.12);color:var(--red)}
.lesson-foot{display:flex;justify-content:space-between;margin-top:1.5rem;padding-top:1rem;border-top:1px solid var(--border)}
.lesson-btn{display:flex;align-items:center;gap:0.3rem;padding:0.5rem 0.85rem;font-size:0.75rem;font-weight:500;border-radius:5px;border:none;cursor:pointer;font-family:inherit}
.lesson-btn.prev{background:var(--bg2);color:var(--text2);border:1px solid var(--border)}
.lesson-btn.next{background:var(--accent);color:var(--bg)}
.lesson-btn:disabled{opacity:0.4;cursor:not-allowed}
.footer{border-top:1px solid var(--border);padding:2rem 0;background:var(--bg2)}
.footer-inner{display:flex;justify-content:space-between;align-items:center}
.footer-logo{font-family:'IBM Plex Mono',monospace;font-size:0.75rem;color:var(--text3)}
.footer-links a{color:var(--text3);text-decoration:none;font-size:0.7rem}
@media(max-width:900px){
.nav-links{display:none}
.sim-layout{grid-template-columns:1fr}
.wallet-panel{position:static;order:2}
.trading-area{order:1}
.lesson-layout{grid-template-columns:1fr}
.lesson-sidebar{display:none}
.about-grid{grid-template-columns:1fr}
.chart-portfolio{grid-template-columns:repeat(2,1fr)}
.lesson-main{padding:1rem}
}
</style>
</head>
<body>
<nav class="nav"><div class="nav-inner">
<div class="logo" onclick="nav('home')"><div class="logo-text">Bag<span>Academy</span></div></div>
<div class="nav-links">
<button class="nav-link active" data-p="home" onclick="nav('home')">Home</button>
<button class="nav-link" data-p="learn" onclick="nav('learn')">Learn</button>
<button class="nav-link" data-p="simulator" onclick="nav('simulator')">Simulator</button>
<button class="nav-link" data-p="about" onclick="nav('about')">About</button>
</div>
<button class="nav-cta" onclick="nav('learn')">Start Free</button>
</div></nav>

<div class="page active" id="page-home">
<section class="hero"><div class="hero-bg"></div><div class="container"><div class="hero-content">
<div class="hero-badge">100% Free - No Signup</div>
<h1>Learn crypto without <em>losing your shirt</em></h1>
<p class="hero-sub">Master blockchain, trading mechanics, and scam detection through hands-on simulations. Built by someone who lost $6000+ learning the hard way.</p>
<div class="hero-buttons">
<button class="btn btn-primary" onclick="nav('learn')">Start Learning</button>
<button class="btn btn-secondary" onclick="nav('simulator')">Try Simulator</button>
</div>
<div class="hero-stats">
<div><div class="hero-stat-value">11</div><div class="hero-stat-label">Modules</div></div>
<div><div class="hero-stat-value">35+</div><div class="hero-stat-label">Lessons</div></div>
<div><div class="hero-stat-value">$500</div><div class="hero-stat-label">Paper Money</div></div>
</div>
</div></div></section>
<section class="section" style="background:var(--bg2);border-top:1px solid var(--border)"><div class="container">
<div class="section-header">
<div class="section-label">Why BagAcademy</div>
<div class="section-title">Education that respects your intelligence</div>
</div>
<div class="features-grid">
<div class="feature-card"><div class="feature-icon">üéØ</div><h3>Learn by Doing</h3><p>Paper trade with fake money. Feel the emotions without the losses.</p></div>
<div class="feature-card"><div class="feature-icon">üíÄ</div><h3>Get Rugged Safely</h3><p>Experience honeypots, hard rugs, and slow rugs in simulation.</p></div>
<div class="feature-card"><div class="feature-icon">üìä</div><h3>Real Chart Analysis</h3><p>Volume, SMA, support/resistance - learn to read price action.</p></div>
<div class="feature-card"><div class="feature-icon">üõ°Ô∏è</div><h3>Scam Detection</h3><p>Learn the red flags before your wallet learns them.</p></div>
<div class="feature-card"><div class="feature-icon">üß†</div><h3>Trading Psychology</h3><p>Understand why most traders lose and how to think differently.</p></div>
<div class="feature-card"><div class="feature-icon">‚ö°</div><h3>No Gatekeeping</h3><p>Everything free. No premium tiers. No Discord alpha.</p></div>
</div>
</div></section>
<footer class="footer"><div class="container"><div class="footer-inner">
<div class="footer-logo">2025 BagAcademy</div>
<div class="footer-links"><a href="https://x.com/bagacademy_io" target="_blank" rel="noopener">X</a></div>
</div></div></footer>
</div>

<div class="page" id="page-learn"><div class="container" style="padding-top:1.25rem;padding-bottom:2.5rem">
<div class="section-header">
<div class="section-label">Curriculum</div>
<div class="section-title">Complete crypto trading education</div>
<div class="section-sub">From absolute beginner to informed trader.</div>
</div>
<div class="module-list" id="moduleList"></div>
</div></div>

<div class="page" id="page-simulator"><div class="container sim-page">
<div class="sim-header"><h1>Rug Pull Simulator</h1><p>Trade meme coins. Watch the chart. Learn why most people lose.</p></div>
<div class="sim-layout">
<div class="trading-area">
<div class="trading-tabs">
<button class="trading-tab active" onclick="showTab('market')">Market</button>
<button class="trading-tab" onclick="showTab('info')">Rug Types</button>
</div>
<div class="chart-container" id="chartContainer">
<div class="chart-portfolio" id="chartPortfolio"></div>
<div class="chart-header">
<div class="chart-token"><div class="chart-icon" id="chartIcon">üíé</div><div class="chart-name" id="chartName">TOKEN</div></div>
<div class="chart-right"><div class="chart-price" id="chartPrice">$0.0000</div><div class="chart-pct" id="chartPct">0%</div></div>
</div>
<div class="chart-indicators"><div class="chart-ind">SMA20: <span class="sma" id="smaVal">-</span></div><div class="chart-ind">Vol: <span class="vol" id="volVal">-</span></div></div>
<div class="chart-area"><canvas id="priceChart"></canvas></div>
<div class="chart-status" id="chartStatus">Select a token to trade</div>
<div class="chart-actions">
<button class="chart-btn buy" id="btnBuyMore" onclick="openBuyMore()" disabled>Buy More</button>
<button class="chart-btn sell" id="btnSell" onclick="openSellModal()" disabled>Sell</button>
</div>
</div>
<div class="trading-content" id="tradingContent"></div>
</div>
<div class="wallet-panel">
<div class="wallet-title">Paper Wallet <button class="wallet-reset" onclick="resetWallet()">Reset</button></div>
<div class="wallet-balance">
<div class="balance-label">Portfolio Value</div>
<div class="balance-value" id="totalValue">$500.00</div>
<div class="balance-pnl" id="totalPnl">$0.00 (0%)</div>
</div>
<div class="holdings-title">Holdings</div>
<div id="holdingsList"></div>
</div>
</div>
</div></div>

<div class="page" id="page-about">
<div class="about-hero"><div class="container"><h1>I lost <em>$6000</em> so you don't have to</h1></div></div>
<div class="container"><div class="about-grid">
<div class="about-story">
<p>I spent a year trading meme coins on Solana. Degen hours. Telegram alpha groups. The whole nine yards.</p>
<p>The result? <strong>Negative $6000 PnL.</strong></p>
<p>But I learned things textbooks don't teach. I learned to read charts, understand liquidity pools, and most importantly - <span class="hl">how scammers think</span>.</p>
<p>That $6000 wasn't lost. <strong>It was tuition.</strong></p>
<p>BagAcademy is everything I wish someone told me before I started.</p>
</div>
<div class="about-stats">
<div class="about-stat"><div class="about-stat-val red">-$6,000</div><div class="about-stat-label">Market tuition</div></div>
<div class="about-stat"><div class="about-stat-val">1 year</div><div class="about-stat-label">Daily trading</div></div>
<div class="about-stat"><div class="about-stat-val green">$0</div><div class="about-stat-label">Cost here</div></div>
<div class="about-stat"><div class="about-stat-val">50+</div><div class="about-stat-label">Lessons</div></div>
</div>
</div></div>
</div>

<div class="page" id="page-lesson"><div class="lesson-layout">
<aside class="lesson-sidebar">
<div class="lesson-nav-title" id="lessonModTitle">Module</div>
<ul class="lesson-nav" id="lessonNav"></ul>
</aside>
<main class="lesson-main" id="lessonMain"></main>
</div></div>

<div class="modal-bg" id="tradeModal"><div class="modal">
<div class="modal-head"><div class="modal-title" id="modalTitle">Trade</div><button class="modal-close" onclick="closeModal()">√ó</button></div>
<div class="modal-body" id="modalBody"></div>
</div></div>

<div class="rug-screen" id="rugScreen">
<div class="rug-icon">üíÄ</div>
<div class="rug-price" id="rugPrice">-98%</div>
<div class="rug-label">You got rugged.</div>
<div class="rug-type" id="rugType">HARD RUG</div>
<div class="rug-explain" id="rugExplain">The developer removed all liquidity.</div>
<div class="rug-stats">
<div><div class="rug-stat-val" id="rugInvested">$50</div><div class="rug-stat-label">Invested</div></div>
<div><div class="rug-stat-val red" id="rugLost">$49</div><div class="rug-stat-label">Lost</div></div>
</div>
<button class="btn btn-primary" onclick="closeRug()">Continue</button>
</div>

<div class="honey-screen" id="honeyScreen">
<div class="honey-icon">üçØ</div>
<div class="honey-title">HONEYPOT</div>
<div class="honey-sub">You can't sell.</div>
<div class="honey-gains" id="honeyGains">+500%</div>
<div class="honey-but">But those gains are fake. The sell function is disabled.</div>
<div class="honey-explain">The contract allowed buying but blocked selling. You watched your gains climb and climb, but when you tried to take profit - nothing. Only the developer can sell.</div>
<button class="btn btn-primary" onclick="closeHoney()">I Understand</button>
</div>

</body>

<script>
var wallet={cash:500,holdings:{},startValue:500};
var currentModule=null,currentLesson=0;
var priceHistory=[],volumeHistory=[],smaHistory=[];
var chartInterval=null,activeTokenId=null,priceMultiplier=1,tickCount=0,rugTriggered=false;

var tokens=[
{id:"diamond",name:"Diamond",ticker:"DMND",icon:"üíé",color:"#3498db",price:0.00042,chg:1247,type:"honey",maxTicks:999},
{id:"demon",name:"Demon",ticker:"DEMON",icon:"üëπ",color:"#e74c3c",price:0.0089,chg:89,type:"hard",maxTicks:40},
{id:"clown",name:"Clown",ticker:"CLOWN",icon:"ü§°",color:"#9b59b6",price:0.0234,chg:2100,type:"honey",maxTicks:999},
{id:"ape",name:"Ape",ticker:"APE",icon:"ü¶ç",color:"#f39c12",price:0.00034,chg:45,type:"slow",maxTicks:150},
{id:"moon",name:"Moon",ticker:"MOON",icon:"üåô",color:"#1abc9c",price:0.00067,chg:67,type:"hard",maxTicks:35},
{id:"skull",name:"Skull",ticker:"SKULL",icon:"üíÄ",color:"#e91e63",price:0.0012,chg:33,type:"slow",maxTicks:120}
];

var rugTypes={
hard:{name:"HARD RUG",desc:"Liquidity removed instantly. The developer pulled everything out of the pool in one transaction. Your tokens are now worthless.",loss:0.98},
slow:{name:"SLOW RUG",desc:"The developer gradually sold their tokens over time, dumping on buyers while pretending to work on the project.",loss:0.75},
honey:{name:"HONEYPOT",desc:"The smart contract allowed buying but disabled selling for everyone except the developer. Those gains were fake.",loss:1.0}
};

var modules=[
{title:"Blockchain Fundamentals",sub:"What crypto actually is",lessons:[
{title:"What Is a Blockchain?",content:"<p>A blockchain is a distributed database shared across thousands of computers worldwide. No single entity controls it.</p><h3>Key Properties</h3><p><strong>Distributed:</strong> Thousands of computers maintain identical copies.</p><p><strong>Immutable:</strong> Once recorded, data cannot be changed.</p><p><strong>Transparent:</strong> Anyone can view every transaction.</p>",quiz:{q:"What makes blockchain different from a regular database?",opts:["Its faster","One company controls it","Its distributed and immutable","It stores more data"],ans:2}},
{title:"How Transactions Work",content:"<p>When you send crypto, you broadcast a signed message authorizing the transfer.</p><h3>The Process</h3><p><strong>1. Signing:</strong> Your wallet signs with your private key.</p><p><strong>2. Broadcasting:</strong> Sent to the network.</p><p><strong>3. Validation:</strong> Nodes verify it.</p><p><strong>4. Confirmation:</strong> Added to the chain.</p>",quiz:{q:"What happens when you send crypto?",opts:["Coins physically move","You broadcast a signed message","Bank transfers funds","Files upload"],ans:1}},
{title:"Consensus Mechanisms",content:"<p>How do computers agree on valid transactions? Consensus mechanisms.</p><h3>Proof of Work</h3><p>Bitcoin uses this. Miners solve puzzles to add blocks.</p><h3>Proof of Stake</h3><p>Ethereum and Solana use this. Validators stake tokens as collateral.</p>",quiz:{q:"Why do traders prefer Solana?",opts:["Its older","Fast and cheap transactions","More decentralized","Celebrity backing"],ans:1}},
{title:"Public vs Private Keys",content:"<p>Cryptography secures your crypto.</p><h3>Private Key</h3><p>Proves ownership. Never share it.</p><h3>Public Key</h3><p>Your address. Safe to share for receiving funds.</p>",quiz:{q:"Someone asks for your private key. What do you do?",opts:["Provide it","Give part of it","Never share - its a scam","Check credentials"],ans:2}}
]},
{title:"Cryptocurrency Types",sub:"Different tokens explained",lessons:[
{title:"Bitcoin: Digital Gold",content:"<p>First cryptocurrency, created 2009. Designed as digital gold - a store of value.</p><h3>Key Properties</h3><p><strong>Fixed Supply:</strong> Only 21 million ever.</p><p><strong>Decentralized:</strong> No one controls it.</p><p><strong>Secure:</strong> Never hacked at protocol level.</p>",quiz:{q:"What is Bitcoins primary use case?",opts:["Fast payments","Store of value","Smart contracts","Meme coins"],ans:1}},
{title:"Ethereum: Programmable Money",content:"<p>Introduced smart contracts - self-executing code on blockchain.</p><h3>Smart Contracts</h3><p>Programs that execute when conditions are met.</p><h3>ERC-20 Tokens</h3><p>Standard for creating tokens. Anyone can make one in minutes.</p>",quiz:{q:"What did Ethereum introduce?",opts:["Faster transactions","Smart contracts","Lower fees","Better security"],ans:1}},
{title:"Solana: Speed and Scale",content:"<p>Optimized for speed and low cost. Sub-second transactions for fractions of a cent.</p><h3>Why Traders Use It</h3><p><strong>Speed:</strong> 400ms confirmations.</p><p><strong>Cost:</strong> ~$0.00025 fees.</p>",quiz:{q:"Why is Solana popular for meme coins?",opts:["Most secure","Fast and nearly free","Oldest chain","Endorsements"],ans:1}},
{title:"Stablecoins",content:"<p>Pegged to stable assets, usually US dollars.</p><h3>Types</h3><p><strong>Fiat-Backed:</strong> USDC, USDT - backed by real dollars.</p><p><strong>Crypto-Backed:</strong> DAI - backed by crypto.</p><p><strong>Algorithmic:</strong> Use algorithms. Many have failed.</p>",quiz:{q:"What are stablecoins pegged to?",opts:["Bitcoin","Gold","Usually US dollars","Meme coins"],ans:2}}
]},
{title:"Wallet Security",sub:"Protecting your assets",lessons:[
{title:"Types of Wallets",content:"<p>Not all wallets are equal.</p><h3>Hot Wallets</h3><p>Connected to internet. Convenient but vulnerable. Examples: Phantom, MetaMask.</p><h3>Cold Wallets</h3><p>Offline hardware. Examples: Ledger, Trezor.</p>",quiz:{q:"Safest for large holdings?",opts:["Phone hot wallet","Exchange account","Cold hardware wallet","Browser extension"],ans:2}},
{title:"Seed Phrases",content:"<p>Master key to your wallet. 12 or 24 random words.</p><h3>Security Rules</h3><p><strong>Never share it.</strong></p><p><strong>Never type it online.</strong></p><p><strong>Never screenshot it.</strong></p>",quiz:{q:"Where to store seed phrase?",opts:["Phone screenshot","Email","Written on paper securely","Password manager"],ans:2}},
{title:"Common Attacks",content:"<p>Know the attacks to avoid them.</p><h3>Phishing</h3><p>Fake websites that drain wallets.</p><h3>Social Engineering</h3><p>Scammers impersonate support.</p><h3>Malicious Approvals</h3><p>Contracts that drain wallets later.</p>",quiz:{q:"Random NFT appears in wallet. What do?",opts:["Sell it","Click the link","Ignore completely","Transfer wallet"],ans:2}},
{title:"Multi-Wallet Strategy",content:"<p>Use multiple wallets to limit risk.</p><h3>Setup</h3><p><strong>Vault (Cold):</strong> Long-term holdings.</p><p><strong>Trading (Hot):</strong> Only what you can lose.</p><p><strong>Burner:</strong> For unknown contracts.</p>",quiz:{q:"Why use a burner wallet?",opts:["Avoid taxes","Limit risk with unknown contracts","Required by law","Confuse hackers"],ans:1}}
]},
{title:"Exchanges and Trading",sub:"Where crypto is traded",lessons:[
{title:"Centralized Exchanges",content:"<p>Companies like Coinbase and Binance that facilitate trading.</p><h3>Advantages</h3><p>User-friendly, fiat on/off ramps, liquidity.</p><h3>Disadvantages</h3><p>Custody risk, KYC required, limited selection.</p>",quiz:{q:"Main risk of keeping crypto on exchange?",opts:["Higher fees","Slow transactions","Exchange can lose your funds","Limited hours"],ans:2}},
{title:"Decentralized Exchanges",content:"<p>DEXs like Jupiter and Uniswap let you trade from your wallet.</p><h3>Advantages</h3><p>Self-custody, permissionless, privacy.</p><h3>Disadvantages</h3><p>No support, scam tokens, complexity.</p>",quiz:{q:"Key advantage of DEXs?",opts:["Customer support","Lower fees always","You maintain custody","Simpler interface"],ans:2}},
{title:"Liquidity Pools",content:"<p>Pools hold token pairs. Traders swap against them.</p><h3>Why Liquidity Matters</h3><p><strong>High:</strong> Minimal price impact.</p><p><strong>Low:</strong> Huge slippage. Paper gains disappear when selling.</p>",quiz:{q:"Why cant you realize gains on low-liquidity token?",opts:["Exchange blocks it","Selling crashes price","Against rules","Need permission"],ans:1}},
{title:"Slippage",content:"<p>Difference between expected and actual execution price.</p><h3>Why It Happens</h3><p>Low liquidity, fast markets, large orders.</p><h3>Red Flag</h3><p>10%+ slippage required = very low liquidity or hidden taxes.</p>",quiz:{q:"Token requires 15% slippage. What does this mean?",opts:["Great opportunity","Low liquidity or hidden taxes","Normal for meme coins","Exchange is slow"],ans:1}}
]},
{title:"Reading Charts",sub:"Technical analysis basics",lessons:[
{title:"Candlestick Basics",content:"<p>Each candle shows price movement over a time period.</p><h3>Anatomy</h3><p><strong>Body:</strong> Open to close.</p><p><strong>Wicks:</strong> High and low.</p><p><strong>Green:</strong> Closed higher (bullish).</p><p><strong>Red:</strong> Closed lower (bearish).</p>",quiz:{q:"Green candlestick indicates:",opts:["Price went down","Closed higher than opened","High volume","Market closed"],ans:1}},
{title:"Support and Resistance",content:"<p>Price levels where buying or selling pressure appears.</p><h3>Support</h3><p>Floor where buyers step in.</p><h3>Resistance</h3><p>Ceiling where sellers appear.</p><h3>Key Concept</h3><p>Broken support becomes resistance.</p>",quiz:{q:"When support breaks, what happens?",opts:["Price recovers","It becomes resistance","Nothing","Trading halts"],ans:1}},
{title:"Volume Analysis",content:"<p>Volume shows conviction behind moves.</p><h3>Volume Confirms</h3><p><strong>High volume + up:</strong> Strong buying.</p><p><strong>Low volume + move:</strong> Weak, likely reversal.</p>",quiz:{q:"Price breaks resistance on low volume. What does this suggest?",opts:["Strong breakout","Potential false breakout","Volume doesnt matter","Chart is broken"],ans:1}},
{title:"Moving Averages",content:"<p>Smooth out price to show trends.</p><h3>How Used</h3><p><strong>Above MA:</strong> Uptrend.</p><p><strong>Below MA:</strong> Downtrend.</p><p>Common periods: 20, 50, 200.</p>",quiz:{q:"Price above 20 SMA indicates:",opts:["Time to sell","Short-term uptrend","Market closed","Nothing useful"],ans:1}},
{title:"Chart Patterns",content:"<p>Patterns repeat because psychology repeats.</p><h3>Types</h3><p><strong>Continuation:</strong> Flags, triangles.</p><p><strong>Reversal:</strong> Double tops, head and shoulders.</p>",quiz:{q:"Why are patterns less reliable for new meme coins?",opts:["Charts are fake","Not enough history","Only work for Bitcoin","TA is a scam"],ans:1}}
]},
{title:"Risk Management",sub:"Protecting your capital",lessons:[
{title:"Position Sizing",content:"<p>Most important skill in trading.</p><h3>The 1-2% Rule</h3><p>Never risk more than 1-2% per trade.</p>",quiz:{q:"With $1000 and 1% risk, how much per trade?",opts:["$100","$250","$10-20","Whatever feels right"],ans:2}},
{title:"Stop Losses",content:"<p>Automatically sell when price drops to set level.</p><h3>Why Needed</h3><p>Humans are bad at cutting losses. Stops remove emotion.</p>",quiz:{q:"When decide stop loss?",opts:["When price drops","Before entering trade","They dont matter","After seeing direction"],ans:1}},
{title:"Take Profit Strategy",content:"<p>Know when to sell before you buy.</p><h3>Scaling Out</h3><p>At 2x: Sell 50% (recover investment)</p><p>At 5x: Sell 25% more</p><p>Let rest ride</p>",quiz:{q:"Main benefit of scaling out?",opts:["Maximizes profit always","Locks profit while keeping upside","Required by exchanges","Looks professional"],ans:1}},
{title:"Risk/Reward Ratio",content:"<p>Compare potential profit to potential loss.</p><h3>The Math</h3><p>Risk $10 to make $30 = 1:3 ratio.</p><p>Can be wrong 66% of time and still profit.</p>",quiz:{q:"With 1:3 ratio, what % can you lose and profit?",opts:["10%","33%","Up to 66%","0%"],ans:2}},
{title:"Win Rate Reality",content:"<p>Win rate matters less than size of wins vs losses.</p><h3>Example</h3><p>40% win rate but winners 5x bigger than losers = very profitable.</p>",quiz:{q:"What matters more than win rate?",opts:["Size of wins vs losses","Having more winners","Picking right coins","Trading more"],ans:0}}
]},
{title:"Trading Psychology",sub:"Your mindset determines results",lessons:[
{title:"Why Most Lose",content:"<p>70-90% of retail traders lose money.</p><h3>Psychological Traps</h3><p><strong>FOMO:</strong> Buying because rising. Usually the top.</p><p><strong>Revenge Trading:</strong> Impulsive trades after losses.</p><p><strong>Hopium:</strong> Holding losers hoping for recovery.</p>",quiz:{q:"What is revenge trading?",opts:["Good strategy","Impulsive trades after losses","Researching competitors","Arbitrage"],ans:1}},
{title:"Math of Recovery",content:"<p>Loss math shows why preservation beats gains.</p><h3>The Numbers</h3><p>Lose 10% - Need 11% to recover</p><p>Lose 50% - Need 100% to recover</p><p>Lose 75% - Need 300% to recover</p>",quiz:{q:"After losing 50%, what gain needed to break even?",opts:["50%","75%","100%","150%"],ans:2}},
{title:"Trading Rules",content:"<p>Rules remove emotion. Follow systems, not feelings.</p><h3>Example Rules</h3><p>Max 1% risk per trade</p><p>Take profit at 2x, 5x</p><p>No trading when emotional</p><p>Weekly loss limit</p>",quiz:{q:"Why are preset rules valuable?",opts:["Guarantee profits","Remove emotion","Legally required","Impress traders"],ans:1}},
{title:"Trade Journaling",content:"<p>One of the most valuable improvement tools.</p><h3>What to Record</h3><p>Entry/exit, why you entered, why you exited, emotions, lessons.</p>",quiz:{q:"Main benefit of trade journal?",opts:["Tax purposes","Identifying behavior patterns","Impressing others","Its required"],ans:1}},
{title:"The Long Game",content:"<p>Goal isnt getting rich quick. Its still trading in a year.</p><h3>Survival First</h3><p>Most blow up in first 3 months. Survive a year = learned more than any course.</p>",quiz:{q:"New traders primary goal?",opts:["100x first trade","Find next big coin","Survival - still trading in a year","Impress friends"],ans:2}}
]},
{title:"Meme Coin Analysis",sub:"Evaluating high-risk tokens",lessons:[
{title:"Red Flags",content:"<p>Warning signs that suggest scam or rug.</p><h3>Major Red Flags</h3><p>Anonymous team, no liquidity lock, concentrated holdings, copied code, unrealistic promises.</p>",quiz:{q:"Anonymous team is:",opts:["Normal and fine","A red flag","Required for decentralization","Better for privacy"],ans:1}},
{title:"Token Metrics",content:"<p>Numbers that matter when evaluating.</p><h3>Key Metrics</h3><p><strong>Market Cap:</strong> Total value.</p><p><strong>Liquidity:</strong> How much in pool.</p><p><strong>Holders:</strong> Distribution matters.</p>",quiz:{q:"Low liquidity means:",opts:["Good opportunity","Hard to sell without crash","Token is undervalued","Dev is trustworthy"],ans:1}},
{title:"On-Chain Analysis",content:"<p>Blockchain data tells the real story.</p><h3>What to Check</h3><p>Wallet distributions, transaction patterns, liquidity movements, contract verification.</p>",quiz:{q:"Why check wallet distribution?",opts:["Just curiosity","Detect whale concentration","Required by law","Makes you look smart"],ans:1}}
]},
{title:"DeFi Fundamentals",sub:"Decentralized finance",lessons:[
{title:"What is DeFi?",content:"<p>Recreates financial services using smart contracts instead of banks.</p><h3>Key Services</h3><p>DEXs, lending, yield farming, staking.</p>",quiz:{q:"What makes DeFi different?",opts:["Its faster","Runs on smart contracts not companies","Its regulated","Only for experts"],ans:1}},
{title:"Providing Liquidity",content:"<p>Deposit token pairs, earn trading fees.</p><h3>Impermanent Loss</h3><p>If one token moves significantly, you end up with more of the cheaper one.</p>",quiz:{q:"What is impermanent loss?",opts:["Losing private key","Loss from price divergence","Exchange fees","A scam type"],ans:1}},
{title:"Yield Farming Risks",content:"<p>High APY often hides significant risks.</p><h3>Where Yield Comes From</h3><p>Trading fees, protocol revenue, inflation. If you cant identify source, you might BE the yield.</p>",quiz:{q:"If you cant identify yield source:",opts:["New innovation","Yield guaranteed","You might be the yield","Government backed"],ans:2}}
]},
{title:"Scam Detection",sub:"Protecting yourself",lessons:[
{title:"Common Scam Types",content:"<p>Know the playbook scammers use.</p><h3>Types</h3><p><strong>Rug Pull:</strong> Dev removes liquidity.</p><p><strong>Honeypot:</strong> Cant sell.</p><p><strong>Pump and Dump:</strong> Coordinated manipulation.</p>",quiz:{q:"What is a honeypot?",opts:["Sweet investment","Token you cant sell","Type of wallet","Trading strategy"],ans:1}},
{title:"Due Diligence",content:"<p>Research before investing.</p><h3>Checklist</h3><p>Check contract, verify liquidity lock, analyze holders, research team, read community.</p>",quiz:{q:"When should you do due diligence?",opts:["After buying","Before investing","Only for large amounts","Never needed"],ans:1}},
{title:"Recovery is Impossible",content:"<p>Once funds are gone, theyre gone.</p><h3>Reality</h3><p>No customer support. No chargebacks. No recovery services (those are scams too).</p>",quiz:{q:"Can stolen crypto be recovered?",opts:["Yes with right tools","Yes if you pay","No - its permanent","Sometimes"],ans:2}}
]},
{title:"Tax and Legal",sub:"Staying compliant",lessons:[
{title:"Crypto Tax Basics",content:"<p>In most countries, crypto is taxable property.</p><h3>Taxable Events</h3><p>Selling, swapping, spending crypto.</p><h3>Not Taxable</h3><p>Buying and holding, wallet transfers.</p>",quiz:{q:"Is swapping crypto taxable?",opts:["No only fiat sales","Yes in most places","Only if profitable","Only over $10K"],ans:1}},
{title:"Record Keeping",content:"<p>Good records make tax time manageable.</p><h3>What to Track</h3><p>Date, amount, price, fees, addresses.</p><p>Export regularly. Exchanges can shut down.</p>",quiz:{q:"Why keep detailed records?",opts:["Not important","Taxes and audit protection","Impress accountants","Only for large amounts"],ans:1}}
]}
];

function nav(p){
document.querySelectorAll(".page").forEach(function(x){x.classList.remove("active")});
document.getElementById("page-"+p).classList.add("active");
document.querySelectorAll(".nav-link").forEach(function(l){l.classList.remove("active");if(l.dataset.p===p)l.classList.add("active")});
window.scrollTo(0,0);
if(p==="simulator")initSim();
if(p==="learn")buildModuleList();
}

function buildModuleList(){
var html="";
for(var i=0;i<modules.length;i++){
var m=modules[i];
html+="<div class=\"module-card\" onclick=\"startModule("+i+")\"><div class=\"module-num\">"+(i<9?"0":"")+(i+1)+"</div><div class=\"module-info\"><h3>"+m.title+"</h3><p>"+m.sub+"</p></div><div class=\"module-meta\">"+m.lessons.length+" lessons</div></div>";
}
document.getElementById("moduleList").innerHTML=html;
}

function startModule(i){
currentModule=i;currentLesson=0;
var m=modules[i];
document.getElementById("lessonModTitle").textContent="Module "+(i+1);
var html="";
for(var j=0;j<m.lessons.length;j++){
html+="<li class=\"lesson-nav-item\"><div class=\"lesson-nav-link"+(j===0?" active":"")+"\" onclick=\"showLesson("+j+")\"><span class=\"ln-num\">"+(j+1)+"</span><span class=\"ln-text\">"+m.lessons[j].title+"</span></div></li>";
}
document.getElementById("lessonNav").innerHTML=html;
showLesson(0);nav("lesson");
}

function showLesson(i){
currentLesson=i;
var m=modules[currentModule],l=m.lessons[i];
var links=document.querySelectorAll(".lesson-nav-link");
for(var j=0;j<links.length;j++){links[j].classList.remove("active");if(j===i)links[j].classList.add("active")}
var optsHtml="";
for(var k=0;k<l.quiz.opts.length;k++){
optsHtml+="<div class=\"quiz-opt\" onclick=\"checkQuiz("+k+","+(k===l.quiz.ans)+")\"><span class=\"quiz-let\">"+String.fromCharCode(65+k)+"</span><span class=\"quiz-txt\">"+l.quiz.opts[k]+"</span></div>";
}
document.getElementById("lessonMain").innerHTML="<div class=\"lesson-label\">Module "+(currentModule+1)+" / Lesson "+(i+1)+"</div><h1 class=\"lesson-title\">"+l.title+"</h1><div class=\"lesson-body\">"+l.content+"</div><div class=\"quiz-wrap\"><div class=\"quiz-head\">Check Understanding</div><div class=\"quiz-body\"><div class=\"quiz-q\">"+l.quiz.q+"</div><div class=\"quiz-opts\">"+optsHtml+"</div><div class=\"quiz-fb\" id=\"qfb\"></div></div></div><div class=\"lesson-foot\"><button class=\"lesson-btn prev\" onclick=\"prevLesson()\""+(i===0?" disabled":"")+">&#8592; Prev</button><button class=\"lesson-btn next\" onclick=\"nextLesson()\">"+(i===m.lessons.length-1?"Complete &#8594;":"Next &#8594;")+"</button></div>";
window.scrollTo(0,0);
}

function nextLesson(){var m=modules[currentModule];if(currentLesson<m.lessons.length-1)showLesson(currentLesson+1);else nav("learn")}
function prevLesson(){if(currentLesson>0)showLesson(currentLesson-1)}

function checkQuiz(oi,correct){
var opts=document.querySelectorAll(".quiz-opt");
for(var j=0;j<opts.length;j++){opts[j].classList.remove("yes","no")}
opts[oi].classList.add(correct?"yes":"no");
var fb=document.getElementById("qfb");
fb.textContent=correct?"Correct!":"Not quite - try again.";
fb.className="quiz-fb show "+(correct?"yes":"no");
}

function getToken(id){for(var i=0;i<tokens.length;i++){if(tokens[i].id===id)return tokens[i]}return null}
function formatPrice(p){return p<0.0001?p.toExponential(2):p.toFixed(6)}

function initSim(){
showTab("market");
updateWalletUI();
updatePortfolioDisplay();
if(!activeTokenId){
document.getElementById("chartContainer").classList.remove("show");
document.getElementById("btnBuyMore").disabled=true;
document.getElementById("btnSell").disabled=true;
}
}

function showTab(tab){
var tabs=document.querySelectorAll(".trading-tab");
tabs[0].classList.toggle("active",tab==="market");
tabs[1].classList.toggle("active",tab!=="market");
var content=document.getElementById("tradingContent");
if(tab==="market"){
var html="<div class=\"token-grid\">";
for(var i=0;i<tokens.length;i++){
var t=tokens[i];
html+="<div class=\"token-card "+t.type+"\" onclick=\"openTrade('"+t.id+"')\"><div class=\"token-top\"><div class=\"token-icon\" style=\"background:"+t.color+"22\">"+t.icon+"</div><div><div class=\"token-name\">"+t.name+"</div><div class=\"token-ticker\">$"+t.ticker+"</div></div></div><div class=\"token-price\">$"+formatPrice(t.price)+"</div><div class=\"token-chg pos\">+"+t.chg+"%</div><span class=\"token-tag "+t.type+"\">"+(t.type==="honey"?"üçØ HONEYPOT":t.type==="hard"?"üíÄ HARD RUG":"üêå SLOW RUG")+"</span></div>";
}
html+="</div>";
content.innerHTML=html;
}else{
content.innerHTML="<div style=\"max-width:500px\"><h3 style=\"margin-bottom:0.75rem\">Types of Rug Pulls</h3><div class=\"info-box warn\"><div class=\"info-box-label\">Hard Rug üíÄ</div><p>Liquidity removed instantly. Price drops 95%+ in seconds.</p></div><div class=\"info-box\" style=\"border-left-color:var(--orange)\"><div class=\"info-box-label\" style=\"color:var(--orange)\">Slow Rug üêå</div><p>Dev sells gradually. Price bleeds down.</p></div><div class=\"info-box\" style=\"border-left-color:var(--purple)\"><div class=\"info-box-label\" style=\"color:var(--purple)\">Honeypot üçØ</div><p>Price only goes up. But you CANNOT sell.</p></div></div>";
}
}

function openTrade(id){
var t=getToken(id);
var warnClass=t.type==="honey"?"honey":"";
var warnText=t.type==="honey"?"üçØ This may be a honeypot.":"‚ö†Ô∏è High risk. This token will likely rug.";
document.getElementById("modalTitle").textContent="Buy "+t.ticker;
document.getElementById("modalBody").innerHTML="<div class=\"trade-info\"><div class=\"trade-info-icon\" style=\"background:"+t.color+"22\">"+t.icon+"</div><div><h4>"+t.name+"</h4><div class=\"trade-info-price\">$"+formatPrice(t.price)+"</div></div></div><div class=\"trade-warn "+warnClass+"\"><span>"+warnText+"</span></div><div class=\"trade-input-wrap\"><div class=\"trade-input-label\"><span>Amount (USD)</span><span>Balance: $"+wallet.cash.toFixed(2)+"</span></div><div class=\"trade-input-box\"><input type=\"number\" class=\"trade-input\" id=\"tradeAmt\" value=\"50\" min=\"1\" max=\""+wallet.cash+"\"><div class=\"trade-input-suffix\">USD</div></div></div><div class=\"trade-presets\"><button class=\"trade-preset\" onclick=\"document.getElementById('tradeAmt').value=25\">$25</button><button class=\"trade-preset\" onclick=\"document.getElementById('tradeAmt').value=50\">$50</button><button class=\"trade-preset\" onclick=\"document.getElementById('tradeAmt').value=100\">$100</button><button class=\"trade-preset\" onclick=\"document.getElementById('tradeAmt').value="+Math.floor(wallet.cash)+"\">MAX</button></div><button class=\"trade-btn buy\" onclick=\"executeBuy('"+id+"')\">Buy "+t.ticker+"</button>";
document.getElementById("tradeModal").classList.add("show");
}

function executeBuy(id){
var t=getToken(id);
var amt=parseFloat(document.getElementById("tradeAmt").value)||0;
if(amt<=0||amt>wallet.cash)return;
wallet.cash-=amt;
if(wallet.holdings[id]){
wallet.holdings[id].amount+=amt/t.price;
wallet.holdings[id].cost+=amt;
}else{
wallet.holdings[id]={amount:amt/t.price,cost:amt,token:t,currentPrice:t.price};
}
closeModal();
updateWalletUI();
startChart(id);
}

function openBuyMore(){if(activeTokenId)openTrade(activeTokenId)}

function openSellModal(){
if(!activeTokenId||!wallet.holdings[activeTokenId])return;
var h=wallet.holdings[activeTokenId];
var t=h.token;
if(t.type==="honey"){
document.getElementById("honeyGains").textContent="+"+((priceMultiplier-1)*100).toFixed(0)+"%";
document.getElementById("honeyScreen").classList.add("show");
return;
}
var val=h.amount*h.currentPrice;
document.getElementById("modalTitle").textContent="Sell "+t.ticker;
document.getElementById("modalBody").innerHTML="<div class=\"trade-info\"><div class=\"trade-info-icon\" style=\"background:"+t.color+"22\">"+t.icon+"</div><div><h4>"+t.name+"</h4><div class=\"trade-info-price\">"+Math.floor(h.amount).toLocaleString()+" tokens</div></div></div><div class=\"trade-input-wrap\"><div class=\"trade-input-label\"><span>Sell %</span><span>Value: $"+val.toFixed(2)+"</span></div><div class=\"trade-input-box\"><input type=\"number\" class=\"trade-input\" id=\"sellPct\" value=\"100\" min=\"1\" max=\"100\"><div class=\"trade-input-suffix\">%</div></div></div><div class=\"trade-presets\"><button class=\"trade-preset\" onclick=\"document.getElementById('sellPct').value=25\">25%</button><button class=\"trade-preset\" onclick=\"document.getElementById('sellPct').value=50\">50%</button><button class=\"trade-preset\" onclick=\"document.getElementById('sellPct').value=75\">75%</button><button class=\"trade-preset\" onclick=\"document.getElementById('sellPct').value=100\">100%</button></div><button class=\"trade-btn sell\" onclick=\"executeSell()\">Sell</button>";
document.getElementById("tradeModal").classList.add("show");
}

function executeSell(){
if(!activeTokenId||!wallet.holdings[activeTokenId])return;
var h=wallet.holdings[activeTokenId];
var pct=parseFloat(document.getElementById("sellPct").value)||0;
if(pct<=0||pct>100)return;
var sellAmt=h.amount*(pct/100);
var sellVal=sellAmt*h.currentPrice;
h.amount-=sellAmt;
h.cost*=(1-pct/100);
wallet.cash+=sellVal;
if(h.amount<1){delete wallet.holdings[activeTokenId];stopChart()}
closeModal();
updateWalletUI();
updatePortfolioDisplay();
}

function startChart(id){
activeTokenId=id;
var t=getToken(id);
priceMultiplier=1;
priceHistory=[1];
volumeHistory=[Math.random()*50+20];
smaHistory=[1];
tickCount=0;
rugTriggered=false;
document.getElementById("chartContainer").classList.add("show");
document.getElementById("chartIcon").textContent=t.icon;
document.getElementById("chartIcon").style.background=t.color+"22";
document.getElementById("chartName").textContent=t.ticker;
document.getElementById("chartStatus").textContent="Trading active...";
document.getElementById("chartStatus").className="chart-status";
document.getElementById("btnBuyMore").disabled=false;
document.getElementById("btnSell").disabled=false;
updatePortfolioDisplay();
if(chartInterval)clearInterval(chartInterval);
chartInterval=setInterval(simulateTick,250);
}

function stopChart(){
if(chartInterval)clearInterval(chartInterval);
activeTokenId=null;
document.getElementById("chartContainer").classList.remove("show");
document.getElementById("btnBuyMore").disabled=true;
document.getElementById("btnSell").disabled=true;
}

function simulateTick(){
if(!activeTokenId||!wallet.holdings[activeTokenId]||rugTriggered)return;
var h=wallet.holdings[activeTokenId];
var t=h.token;
tickCount++;
var change=0;
if(t.type==="honey"){
change=0.008+Math.random()*0.025;
if(Math.random()<0.15)change+=0.02;
priceMultiplier*=(1+change);
document.getElementById("chartStatus").textContent="üöÄ PUMPING +"+((priceMultiplier-1)*100).toFixed(1)+"%";
document.getElementById("chartStatus").className="chart-status good";
}else if(t.type==="hard"){
if(tickCount<10){change=(Math.random()-0.6)*0.03}
else if(tickCount<t.maxTicks){change=(Math.random()-0.55)*0.04;if(tickCount>25)change-=0.01}
else{rugTriggered=true;executeRug();return}
priceMultiplier*=(1+change);
priceMultiplier=Math.max(0.3,priceMultiplier);
var status=priceMultiplier>1?"üìà Up":"üìâ Down";
document.getElementById("chartStatus").textContent=status+" "+((priceMultiplier-1)*100).toFixed(1)+"%";
document.getElementById("chartStatus").className="chart-status"+(priceMultiplier<0.8?" danger":"");
}else{
if(tickCount<t.maxTicks){change=(Math.random()-0.52)*0.025;if(tickCount%20<5)change+=0.01;else change-=0.008}
else{rugTriggered=true;executeRug();return}
priceMultiplier*=(1+change);
priceMultiplier=Math.max(0.25,Math.min(1.3,priceMultiplier));
document.getElementById("chartStatus").textContent="üìä Sideways "+((priceMultiplier-1)*100).toFixed(1)+"%";
document.getElementById("chartStatus").className="chart-status warn";
}
priceHistory.push(priceMultiplier);
var vol=Math.random()*60+20;
if(Math.abs(change)>0.02)vol*=2;
volumeHistory.push(vol);
var smaLen=Math.min(20,priceHistory.length);
var smaSum=0;
for(var i=priceHistory.length-smaLen;i<priceHistory.length;i++)smaSum+=priceHistory[i];
smaHistory.push(smaSum/smaLen);
if(priceHistory.length>80){priceHistory.shift();volumeHistory.shift();smaHistory.shift()}
h.currentPrice=t.price*priceMultiplier;
updateWalletUI();
updatePortfolioDisplay();
drawChart();
}

function drawChart(){
var canvas=document.getElementById("priceChart");
var ctx=canvas.getContext("2d");
var rect=canvas.parentElement.getBoundingClientRect();
canvas.width=rect.width*2;canvas.height=rect.height*2;
ctx.scale(2,2);
var w=rect.width,ht=rect.height;
var chartH=ht*0.7,volH=ht*0.25,gap=ht*0.05;
ctx.fillStyle="#08080a";ctx.fillRect(0,0,w,ht);
ctx.strokeStyle="#1a1a2a";ctx.lineWidth=0.5;
for(var i=1;i<4;i++){ctx.beginPath();ctx.moveTo(0,chartH*i/4);ctx.lineTo(w,chartH*i/4);ctx.stroke()}
if(priceHistory.length<2)return;
var minP=Math.min.apply(null,priceHistory)*0.95;
var maxP=Math.max.apply(null,priceHistory)*1.05;
var rangeP=maxP-minP||0.1;
var maxV=Math.max.apply(null,volumeHistory)*1.2;
ctx.fillStyle="rgba(52,152,219,0.3)";
for(var i=0;i<volumeHistory.length;i++){var x=(i/(priceHistory.length-1))*w;var barH=(volumeHistory[i]/maxV)*volH;ctx.fillRect(x-2,chartH+gap+volH-barH,4,barH)}
ctx.beginPath();ctx.strokeStyle="#ffa502";ctx.lineWidth=1;ctx.setLineDash([3,3]);
for(var i=0;i<smaHistory.length;i++){var x=(i/(priceHistory.length-1))*w;var y=chartH-((smaHistory[i]-minP)/rangeP)*chartH;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y)}
ctx.stroke();ctx.setLineDash([]);
ctx.beginPath();ctx.strokeStyle=priceMultiplier>=1?"#00d68f":"#ff4757";ctx.lineWidth=2;
for(var i=0;i<priceHistory.length;i++){var x=(i/(priceHistory.length-1))*w;var y=chartH-((priceHistory[i]-minP)/rangeP)*chartH;if(i===0)ctx.moveTo(x,y);else ctx.lineTo(x,y)}
ctx.stroke();ctx.lineTo(w,chartH);ctx.lineTo(0,chartH);ctx.closePath();
ctx.fillStyle=priceMultiplier>=1?"rgba(0,214,143,0.1)":"rgba(255,71,87,0.1)";ctx.fill();
var t=getToken(activeTokenId);
var price=t.price*priceMultiplier;
document.getElementById("chartPrice").textContent="$"+formatPrice(price);
document.getElementById("chartPrice").className="chart-price "+(priceMultiplier>=1?"up":"down");
var pct=(priceMultiplier-1)*100;
document.getElementById("chartPct").textContent=(pct>=0?"+":"")+pct.toFixed(1)+"%";
document.getElementById("chartPct").className="chart-pct "+(pct>=0?"up":"down");
document.getElementById("smaVal").textContent=(smaHistory[smaHistory.length-1]*t.price).toFixed(6);
document.getElementById("volVal").textContent=volumeHistory[volumeHistory.length-1].toFixed(0)+"K";
}

function executeRug(){
var h=wallet.holdings[activeTokenId];
if(!h)return;
var t=h.token;
var info=rugTypes[t.type];
document.getElementById("chartStatus").textContent="üíÄ RUG PULL";
document.getElementById("chartStatus").className="chart-status danger";
document.getElementById("btnSell").disabled=true;
var crash=0;
var crashInt=setInterval(function(){
crash++;
priceMultiplier*=0.5;
priceHistory.push(priceMultiplier);
volumeHistory.push(200+Math.random()*100);
if(priceHistory.length>80){priceHistory.shift();volumeHistory.shift()}
h.currentPrice=t.price*priceMultiplier;
updateWalletUI();
drawChart();
if(crash>=6){
clearInterval(crashInt);
clearInterval(chartInterval);
var lost=h.cost*info.loss;
document.getElementById("rugPrice").textContent="-"+Math.round(info.loss*100)+"%";
document.getElementById("rugType").textContent=info.name;
document.getElementById("rugExplain").textContent=info.desc;
document.getElementById("rugInvested").textContent="$"+h.cost.toFixed(2);
document.getElementById("rugLost").textContent="$"+lost.toFixed(2);
document.getElementById("rugScreen").classList.add("show");
}
},150);
}

function closeRug(){
document.getElementById("rugScreen").classList.remove("show");
if(activeTokenId)delete wallet.holdings[activeTokenId];
stopChart();
updateWalletUI();
updatePortfolioDisplay();
}

function closeHoney(){document.getElementById("honeyScreen").classList.remove("show")}
function closeModal(){document.getElementById("tradeModal").classList.remove("show")}

function updatePortfolioDisplay(){
var h=activeTokenId?wallet.holdings[activeTokenId]:null;
var html="";
if(h){
var val=h.amount*h.currentPrice;
var pnl=val-h.cost;
var pct=h.cost>0?(pnl/h.cost)*100:0;
html="<div class=\"chart-port-item\"><div class=\"chart-port-label\">Position</div><div class=\"chart-port-val\">$"+val.toFixed(2)+"</div></div>";
html+="<div class=\"chart-port-item\"><div class=\"chart-port-label\">Cost</div><div class=\"chart-port-val\">$"+h.cost.toFixed(2)+"</div></div>";
html+="<div class=\"chart-port-item\"><div class=\"chart-port-label\">P&L</div><div class=\"chart-port-val "+(pnl>=0?"pos":"neg")+"\">"+(pnl>=0?"+":"")+pnl.toFixed(2)+"</div></div>";
html+="<div class=\"chart-port-item\"><div class=\"chart-port-label\">Return</div><div class=\"chart-port-val "+(pct>=0?"pos":"neg")+"\">"+(pct>=0?"+":"")+pct.toFixed(1)+"%</div></div>";
}else{
html="<div class=\"chart-port-item\"><div class=\"chart-port-label\">Position</div><div class=\"chart-port-val\">-</div></div><div class=\"chart-port-item\"><div class=\"chart-port-label\">Cost</div><div class=\"chart-port-val\">-</div></div><div class=\"chart-port-item\"><div class=\"chart-port-label\">P&L</div><div class=\"chart-port-val\">-</div></div><div class=\"chart-port-item\"><div class=\"chart-port-label\">Return</div><div class=\"chart-port-val\">-</div></div>";
}
document.getElementById("chartPortfolio").innerHTML=html;
}

function updateWalletUI(){
var total=wallet.cash;
var html="<div class=\"holding\"><div class=\"holding-left\"><div class=\"holding-icon\" style=\"background:#1a2a1a\">üíµ</div><div class=\"holding-info\"><div class=\"holding-name\">Cash</div><div class=\"holding-amt\">USD</div></div></div><div class=\"holding-right\"><div class=\"holding-val\">$"+wallet.cash.toFixed(2)+"</div></div></div>";
for(var id in wallet.holdings){
if(!wallet.holdings.hasOwnProperty(id))continue;
var h=wallet.holdings[id];
var val=h.amount*h.currentPrice;
var pnl=val-h.cost;
var pct=h.cost>0?(pnl/h.cost)*100:0;
total+=val;
html+="<div class=\"holding\" style=\"cursor:pointer\" onclick=\"startChart('"+id+"')\"><div class=\"holding-left\"><div class=\"holding-icon\" style=\"background:"+h.token.color+"22\">"+h.token.icon+"</div><div class=\"holding-info\"><div class=\"holding-name\">"+h.token.ticker+"</div><div class=\"holding-amt\">"+Math.floor(h.amount).toLocaleString()+"</div></div></div><div class=\"holding-right\"><div class=\"holding-val\">$"+val.toFixed(2)+"</div><div class=\"holding-chg "+(pnl>=0?"pos":"neg")+"\">"+(pnl>=0?"+":"")+pct.toFixed(1)+"%</div></div></div>";
}
document.getElementById("holdingsList").innerHTML=html;
document.getElementById("totalValue").textContent="$"+total.toFixed(2);
var totalPnl=total-wallet.startValue;
var totalPct=((total-wallet.startValue)/wallet.startValue)*100;
document.getElementById("totalPnl").textContent=(totalPnl>=0?"+":"")+totalPnl.toFixed(2)+" ("+(totalPct>=0?"+":"")+totalPct.toFixed(1)+"%)";
document.getElementById("totalPnl").className="balance-pnl "+(totalPnl>=0?"pos":"neg");
}

function resetWallet(){
if(chartInterval)clearInterval(chartInterval);
wallet={cash:500,holdings:{},startValue:500};
activeTokenId=null;
rugTriggered=false;
priceHistory=[];volumeHistory=[];smaHistory=[];
document.getElementById("chartContainer").classList.remove("show");
document.getElementById("btnBuyMore").disabled=true;
document.getElementById("btnSell").disabled=true;
updateWalletUI();
updatePortfolioDisplay();
}

document.addEventListener("DOMContentLoaded",function(){
buildModuleList();
updateWalletUI();
});
</script>

</body>
</html>
